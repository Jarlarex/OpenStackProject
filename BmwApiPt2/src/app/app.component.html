<div class="app-container">
  <mat-toolbar color="primary" class="app-toolbar">
    <div class="toolbar-left">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="app-title">{{ title }}</span>
    </div>
    
    <div class="toolbar-right">
      @if (authService.isAuthenticated()) {
        <span class="user-email">{{ authService.currentUser()?.email }}</span>
        <button mat-button (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          Logout
        </button>
      } @else {
        <button mat-button routerLink="/login">
          <mat-icon>login</mat-icon>
          Login
        </button>
      }
    </div>
  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav mode="over" class="sidenav">
      <mat-nav-list>
        <a mat-list-item routerLink="/models" routerLinkActive="active-link" (click)="sidenav.close()">
          <mat-icon>directions_car</mat-icon>
          <span class="nav-label">BMW Models</span>
        </a>
        
        
        @if (authService.isAuthenticated()) {
          <a mat-list-item routerLink="/liked-cars" routerLinkActive="active-link" (click)="sidenav.close()">
            <mat-icon>favorite</mat-icon>
            <span class="nav-label">My Liked Cars</span>
          </a>
        }
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content class="content">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
